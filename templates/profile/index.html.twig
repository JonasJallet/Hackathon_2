{% extends 'base.html.twig' %}

{% block title %}Mon Profil | Handi'Loc
{% endblock %}

{% block body %}
	<h3 class="text-center mt-3 mb-3">Mon profil</h3>
	<div class="row justify-content-center my-5">
		<div class="col-12 col-md-9 col-lg-7 col-xl-6 col-xxl-6">
			<div class="card_id shadow-none border-1 p-4 card mb-5 card-cover overflow-hidden text-bg-white rounded-4 shadow-lg d-flex flex-row shadow-lg">
				<div class="col-4">
					<img src="{{ customer.picture }}" class="img-fluid avatar" alt="image artiste">
				</div>
				<div class="col-8 d-flex align-items-center">
					<div class="card-body">
						<h4 class="card-text">
							{{ customer.firstName }}
							{{ customer.lastName }}
						</h4>
						<h5 class="card-text lead">Adresse :
							{{ customer.address }}</br>
						{{ customer.zipcode }}
						{{ customer.city }}
					</h5>
					<h5 class="card-text lead">Téléphone :
						{{ customer.phone }}
					</h5>
					<h5 class="card-text lead">Carte d'invalidité n°
						{{ customer.disabilityCard }}</h5>
				</div>
			</div>
		</div>
	</div>

	<div class="my-3 text-center">
		<h3>Vous avez besison d'un véhicule pour le transoiier de PMT?</h3>
		<a href="{{ path('app_vehicle_index') }}">
			<button class="btn btn-secondary" type="button">Voir la liste des véhicules</button>
		</a>
	</div>

	{% if customer.vehicle != false %}
		<div class="row justify-content-center p-4">
			<div class="col-8 card mb-3 p-0">
				<img class="card-img-top" src="{{ customer.vehicle.picture }}" alt="Card image cap">
				<div class="card-img-overlay">
					<div class="card-nav d-flex justify-content-end">
						<h3 class="card-title title-nav-card">
							{{ customer.vehicle.brand }}
							-
							{{ customer.vehicle.model }}</h3>
						{% if is_granted('ROLE_ADMIN') %}
							<a href="{{ path('app_vehicle_edit', {'id': vehicle.id}) }}"><img class="d-flex flex-end mx-1" src="{{ asset('build/images/edit.png') }}" alt="" width="35" heigh="35"></a>
							{{ include('vehicle/_delete_form.html.twig') }}
						{% endif %}
					</div>
				</div>

				<div class="card-body">
					<table class="table m-0">
						<tbody>
							<tr>
								<th class="border-0">Kilomètrage</th>
								<td class="border-0">{{ customer.vehicle.mileage }}</td>
							</tr>
							<tr>
								<th class="border-0">Type de Carburant</th>
								<td class="border-0">{{ customer.vehicle.energy }}</td>
							</tr>
							<tr>
								<th class="border-0">Plaque d'immatriculation</th>
								<td class="border-0">{{ customer.vehicle.registrationPlate }}</td>
							</tr>
							<tr>
								<th class="border-0">Acttuellement loué</th>
								<td class="border-0">{{ customer.vehicle.isAvailable ? 'Non' : 'Oui' }}</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="d-flex justify-content-center">
				<a href="{{ path('return_vehicle', {'id': customer.vehicle.id}) }}">
					<button class="button-save btn btn-primary">{{ button_label|default('Rendre le véhicule') }}</button>
				</a>
			</div>
		{% endif %}
	{% endblock %}
